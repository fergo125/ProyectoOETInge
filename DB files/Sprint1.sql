-- Actualizacion de base de datos

-- Agregar nuevos atributos a producto
ALTER TABLE INV_PRODUCTOS
  ADD
  (
    INTENCION VARCHAR2(35),
    PRECIO_C  NUMBER(15,2),
    PRECIO_D  NUMBER(15,2)
  );



-- Agregar nuevos atributos a bodega
ALTER TABLE CAT_BODEGA
  ADD
    CAT_INTENCIONUSO NUMBER(2);

CREATE TABLE CAT_INTENCIONUSO
(
  CAT_INTENCIONUSO  NUMBER(2) PRIMARY KEY,
  NOMBRE            VARCHAR(35)
);

INSERT ALL
  INTO CAT_INTENCIONUSO VALUES (0, 'Punto de Venta')
  INTO CAT_INTENCIONUSO VALUES (1, 'Cocina')
  INTO CAT_INTENCIONUSO VALUES (2, 'Almacenamiento')
SELECT * FROM dual;

SELECT * FROM CAT_INTENCIONUSO;

-- Agregar estado a INV_BODEGA_PRODUCTOS
ALTER TABLE INV_BODEGA_PRODUCTOS
  ADD
    ESTADO NUMBER(2);
    

-- Seguridad de base de datos
CREATE TABLE SEG_PERMISOS
(
  SEG_PERMISO VARCHAR2(30) PRIMARY KEY,
  SEG_PERFIL  VARCHAR2(30),
  INTERFAZ    VARCHAR2(45),
  PERMISOS    CHAR(6)      -- 0 o 1 unicamente
  -- Auxiliar, Auxiliar, Desactivar, Modificar, Insertar, Consultar
);

INSERT ALL
-- Administrador global
  INTO SEG_PERMISOS VALUES('27042015180000000000', 'CYCLO105062012115352292015','Catalogo general de productos', '111111')
  INTO SEG_PERMISOS VALUES('27042015180000000001', 'CYCLO105062012115352292015','Categorias de productos', '111111')
  INTO SEG_PERMISOS VALUES('27042015180000000002', 'CYCLO105062012115352292015','Catalogos de productos en bodegas', '111111')
  INTO SEG_PERMISOS VALUES('27042015180000000003', 'CYCLO105062012115352292015','Gestion de bodegas', '111111')
  INTO SEG_PERMISOS VALUES('27042015180000000004', 'CYCLO105062012115352292015','Gestion de actividades', '111111')
-- Administrador local
  INTO SEG_PERMISOS VALUES('27042015180000000005', 'CYCLO114062012084948203080','Catalogo general de productos', '000111')
  INTO SEG_PERMISOS VALUES('27042015180000000006', 'CYCLO114062012084948203080','Categorias de productos', '000001')
  INTO SEG_PERMISOS VALUES('27042015180000000007', 'CYCLO114062012084948203080','Catalogos de productos en bodegas', '001111')
  INTO SEG_PERMISOS VALUES('27042015180000000008', 'CYCLO114062012084948203080','Gestion de bodegas', '000001')
  INTO SEG_PERMISOS VALUES('27042015180000000009', 'CYCLO114062012084948203080','Gestion de actividades', '001111')
-- Supervisor
  INTO SEG_PERMISOS VALUES('27042015180000000010', 'CYCLO112122012150416678002','Catalogo general de productos', '000000')
  INTO SEG_PERMISOS VALUES('27042015180000000011', 'CYCLO112122012150416678002','Categorias de productos', '000000')
  INTO SEG_PERMISOS VALUES('27042015180000000012', 'CYCLO112122012150416678002','Catalogos de productos en bodegas', '000001')
  INTO SEG_PERMISOS VALUES('27042015180000000013', 'CYCLO112122012150416678002','Gestion de bodegas', '000000')
  INTO SEG_PERMISOS VALUES('27042015180000000014', 'CYCLO112122012150416678002','Gestion de actividades', '000001')
-- Vendedor
  INTO SEG_PERMISOS VALUES('27042015180000000015', 'CYCLO112122012150835261069','Catalogo general de productos', '000000')
  INTO SEG_PERMISOS VALUES('27042015180000000016', 'CYCLO112122012150835261069','Categorias de productos', '000000')
  INTO SEG_PERMISOS VALUES('27042015180000000017', 'CYCLO112122012150835261069','Catalogos de productos en bodegas', '000001')
  INTO SEG_PERMISOS VALUES('27042015180000000018', 'CYCLO112122012150835261069','Gestion de bodegas', '000000')
  INTO SEG_PERMISOS VALUES('27042015180000000019', 'CYCLO112122012150835261069','Gestion de actividades', '000001')
SELECT * FROM dual;

SELECT * FROM SEG_PERMISOS;
